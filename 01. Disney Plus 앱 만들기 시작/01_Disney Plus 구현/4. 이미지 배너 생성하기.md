## 4. ì´ë¯¸ì§€ ë°°ë„ˆ ìƒì„±í•˜ê¸° 

![image](https://user-images.githubusercontent.com/99783474/214045690-c0f3f53b-eb39-497c-ac72-8b05cf5a8b4f.png)

#### âœ” pendding ì´ë€ 

> í˜„ì•ˆì˜, ë‚¨ì•„ìˆëŠ”, ê³„ë¥˜ì¤‘ì¸, ë¯¸ê²° 

#### Promise {< pending >} ì´ë¼ê³  ë‚˜ì˜¤ëŠ” ì´ìœ ëŠ”? => ë¹„ë™ê¸°ë¡œ ì²˜ë¦¬í•˜ëŠ” ì¤‘ì´ê¸° ë•Œë¬¸ì´ë‹¤. 

![image](https://user-images.githubusercontent.com/99783474/214045717-29519b4b-2a35-4d73-8506-d4311aee41e4.png)

>* ë™ê¸° ê°™ì€ ê²½ìš°ëŠ” ì–´ë– í•œ ìš”ì²­ì´ ì˜¤ë©´, ë¨¼ì € ê·¸ ìš”ì²­ì„ ì²˜ë¦¬í•œ í›„ ë‹¤ìŒ ìš”ì²­ì„ ë°›ì„ ìˆ˜ ìˆëŠ” ê²ƒì´ ë™ê¸°ì´ë‹¤. 
>* ë¹„ë™ê¸° ê°™ì€ ê²½ìš°ëŠ” ìš”ì²­ì´ ë°œìƒí•˜ë©´ responseë¥¼ ë°›ì§€ ì•Šì•˜ë”ë¼ê³ , ë‹¤ìŒ ìš”ì²­ì„ ì§„í–‰í•˜ëŠ” ê²ƒì´ ë¹„ë™ê¸° ì´ë‹¤. 



#### ğŸ’¡ í•´ê²°ë°©ë²• 

#### ì•„ì§ Responseê°€ ì˜¤ì§€ ì•Šì€ Pendingí•œ ìƒíƒœê°€ ì•„ë‹Œ ê²°ê³¼ ê°’ì„ ë°›ì€ ì´í›„ì— ê°’ì„ ì²˜ë¦¬í•´ì£¼ë©´ ëœë‹¤ ê·¸ëŸ¬ê¸° ìœ„í•´ ë‘ê°€ì§€ í•´ê²°ë°©ë²•ì´ ìˆë‹¤. 

##### (1)  Async Request _ .then()

```react
productModel.create(req.body)
	.then(response => {
		console.log('response', response)
		res.status(201).json(response);
	})
```



##### (2) Async _ Await (ë” ë§ì´ ì‚¬ìš©í•˜ëŠ” ë°©ë²•, ìœ„ ë°©ë²•ë³´ë‹¤ ë” ê¹”ë”í•˜ë‹¤.)

```react
exports.createProduct = async(res, res, next) => {
	const createProcuct await productModel.create()
	cosole.log('createProduct', createdProduct)
	res.status(201).json(createProduct);
}
```



---

Banner.js

```react
// import axios from 'axios'
import React, { useEffect, useState } from 'react'
import axios from '../api/axios';
import requests from '../api/request';

const Banner = () => {

  const [movie, setMovie] = useState([]);

  useEffect(() => {
    fetchData();
  }, [])

const fetchData = async() => {
  // í˜„ì¬ ìƒì˜ì¤‘ì¸ ì˜í™” ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ê¸°(ì—¬ëŸ¬ ì˜í™”)
  const response = await axios.get(requests.fetchNowPlaying);
  // ì—¬ëŸ¬ ì˜í™” ì¤‘ ì˜í™” í•˜ë‚˜ì˜ IDë¥¼ ê°€ì ¸ì˜¤ê¸°
  const movieId = 
    response.data.results[
      // Math.floor() : ì£¼ì–´ì§„ ìˆ«ìì™€ ê°™ê±°ë‚˜ ì‘ì€ ì •ìˆ˜ ì¤‘ì—ì„œ ê°€ì¥ í° ìˆ˜ë¥¼ ë°˜í™˜í•œë‹¤. 
      Math.floor(Math.random() * response.data.results.length)
    ].id;

    // íŠ¹ì • ì˜í™”ì˜ ë” ìƒì„¸í•œ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ê¸°(ë¹„ë””ì˜¤ ì •ë³´ë„ í¬í•¨)
    const { data: movieDetail } = await axios.get(`movie/${movieId}`, {
      params: { append_to_response: "videos" }
    })
    setMovie(movieDetail);
}



  return (
    <div>
      
    </div>
  )
}

export default Banner

```

